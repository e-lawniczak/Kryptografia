from zad1_euklides import e_gcd
from zad2_pow import pow_mod
from zad3_fermat import fermat
from zad4_euler import euler
from zad5_reszty_kw import sqr

if __name__ == '__main__':
    C1 = 4555083546227545815375929434915938413422731564761821551939797580596335720486312002869660684827178308191192527914938176215875279193168132039754548101460127418671813677774618155975685628896280791941746257667436793250194234985195712819360556333573981398481561576895845852740984421954886226734647800345251
    C2 = 5185535060752578103219825276981882276800880527905027240433737725758356607186025151981732129291791072233295219255339891457375036749070892574510867557368253821033074720442481288269715624089284215538521202535286293666830523068142260006469341784410278747054729640869829262379942762825877049709950872281332
    X = 1142153710062026173710379384396651351544145926167974503433039472300098793216561724839647737839017984388276410109187716319571418834062876230332921388751285306310231489506712983205104631267848716216129848075063308381333398094105251862379333005924726922029085470965270158525532159008819934932945230125047
    P = 5246017159423898686411859590536693869985466115228194155667053837298851165493543658684419924665679376412166579750873155792352137398185176623783114382884401045629517461001539400198333969600209454846450432229246335226447144074995151939936440712013421966796360028539543381146044335405635128919035001771611

    # C1 =3008113774224067049332675539066282620348831370437099730050205357316971662849704789520938805234413989578259977195075620322447772570794484702065874206948912756782205679911940377237992445018524818676564208109148432650186277102306859226255195445978038351138247922027148825546023722650609318599548469380936
    # C2 = 2897085508668375730722387194488630640169427896962164296529246319021068516015826935471884633687026945744761692158771602557843953474078495088087314628693107701177615785271365640521152733901056176057048547204951403551475965447264479341991550417050769468730830916352545354804607500366684506370697755763766
    # P =3220065737251704067945671027614692553432936218607539846203495094863524915730244791079576021020094224887757364150333604127371054702797534153797743258171465579017353682142028769866872651583394101623764611946634488757277543395838365827606874580408752213827735537462117346084627639700069567257010502000153
    # X = 1525738485488018561725105796181046522098297041279626098742855001270860354586775137591177402893616133178220450338701060819616737342416814834687152082114635019864784084232002386042760252793323400080261247201347863266302385283421727362744944726528634858656904954933168526703724762576773140467929115227705

    # C1 =126072608367179104465188523993072572016838093292583742522235288669528798634184203048415904779445590764308171988461432920842759457239842580697307912278480809175726771379386548710981267843915464173765248099885966481341297753117136495089403398177956722626444782057358509504950492685548444245479287457237
    # C2=2605580717246087748118810164292362080616916472909424032639614923422278122079603587844003068622641255211514656256098086701343989692029912819786575120211525210142542569587562045933096932317563263793452120061318984999478120683671945874176958080089431784489455827527017510804800403433275479914413756371990
    # X=3058614412544812237476546266427803375380682217753147418028823954463649384891296018708136306896010383131207739025147215167454091586759291629985956763087887871019278014630124719380833693072056831765051069305475676342708719197002534008740554959002503621568471942996626727648568829084232474449918141838051
    # P=4827642476337901488391510665815249864762816009470128851865299072846370686066456964823846814011139018705329276044419114850534081552462996490429698815407944271107932712638060455426467721287684909474358424775466632261672006904953455578767088778952430328386304853420561969398762710200081237020237998083469
    czyPierwsza = fermat(P)
    c3 = e_gcd(C1, P)
    # c3 = 1111926585274294024023233570364189585848652672932099632557670902660472359247441466454271744147786584337309480942375416976176004577827932729389806955992418102171337280017956946350664492814752749576326199554387890056529038862285580866394323922099920349604678061364111180339502612108677575272254996374965
    c4 = pow_mod(c3, X, P)
    # c4 = 1857982024561453939924886450596277462703357861526943212122103628753991261005606245845204640279104974630639339718460165078811707975389726122631395351069441021703155974045773225244847643247050132241739307626875319044895356998473524973224047899379764741783533587033142357542317051137940370065563041584690
    M = C2 * c4 % P
    Mt = 1523146659736732891875243219203248684763446453767368104852678555019500251125337870886685376621027324319885495897172016527038220099392046081259683828148485760298392619994137559817982095494127633452089555695621837214620828605423628812611208205301233305807473989181930506268365272849064641008819734364477


    print(M)
